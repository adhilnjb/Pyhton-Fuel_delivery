{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'Payment/FuelPayment.css' %}">
    <title>Credit Card - Input Form</title>
</head>

<body>
    <div class="container">
        <div class="form">
            <form action="#" method="post" onsubmit="return validateForm()">
                {% csrf_token %}
                <div class="flex-row">
                    <label for="card-number">Card Number</label>
                    <input name="card-number" class="card-number" type="text" value="">
                </div>
                <div class="flex-row">
                    <label for="card-name">Holder Name</label>
                    <input name="card-name" class="card-name" type="text" value="">
                </div>
                <div class="flex-row">
                    <table>
                        <tr>
                            <td class="table-column">
                                <label for="month">Expiration Date</label>
                                <select name="month" id="month-select">
                                    <option value="Month" selected disabled>Month</option>
                                    <option value="January">January</option>
                                    <option value="February">February</option>
                                    <option value="March">March</option>
                                    <option value="April">April</option>
                                    <option value="May">May</option>
                                    <option value="June">June</option>
                                    <option value="July">July</option>
                                    <option value="August">August</option>
                                    <option value="September">September</option>
                                    <option value="October">October</option>
                                    <option value="November">November</option>
                                    <option value="December">December</option>
                                </select>
                                <select name="year" id="year-select">
                                    <option value="Year" selected disabled>Year</option>
                                   
                                    <option value="2024">2024</option>
                                    <option value="2025">2025</option>
                                    <option value="2026">2026</option>
                                    <option value="2027">2027</option>
                                    <option value="2028">2028</option>
                                    <option value="2029">2029</option>
                                    <option value="2030">2030</option>
                                </select>
                            </td>
                            <td class="table-column">
                                <label for="card-cvv">CVV</label>
                                <input name="card-cvv" class="card-cvv" type="text" value="">
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="flex-row">
                    <input class="card-submit" type="submit" value="Rs.{{total}}">
                </div>
            </form>
            <img class="card-image" src="https://pngimg.com/uploads/credit_card/credit_card_PNG99.png" alt="Card image">
            <div class="card-image-shadow"></div>
        </div>
    </div>

    <script>
        function validateForm() {
            var cardNumber = document.querySelector('.card-number').value;
            var cardName = document.querySelector('.card-name').value;
            var expiryMonth = document.getElementById('month-select').value;
            var expiryYear = document.getElementById('year-select').value;
            var cvv = document.querySelector('.card-cvv').value;

            if (!isValidCardNumber(cardNumber)) {
                alert('Invalid card number');
                return false;
            }

            if (!isValidCardName(cardName)) {
                alert('Invalid card holder name');
                return false;
            }

            // if (!isValidExpiryDate(expiryMonth, expiryYear)) {
            //     alert('Invalid expiry date');
            //     return false;
            // }

            if (!isValidCVV(cvv)) {
                alert('Invalid CVV');
                return false;
            }

            return true;
        }

        function isValidCardNumber(cardNumber) {
            // Implement card number validation logic
            return /^\d{16}$/.test(cardNumber);
        }

        function isValidCardName(cardName) {
            // Implement card holder name validation logic
            return /^[a-zA-Z ]+$/.test(cardName);
        }

        // function isValidExpiryDate(expiryMonth, expiryYear) {
        //     // Implement expiry date validation logic
        //     var currentDate = new Date();
        //     var currentYear = currentDate.getFullYear().toString().substring(2, 4);
        //     var currentMonth = (currentDate.getMonth() + 1).toString().padStart(2, '0');

        //     return expiryYear > currentYear || (expiryYear == currentYear && expiryMonth >= currentMonth);
        // }

        // function isValidCVV(cvv) {
        //     // Implement CVV validation logic
        //     return /^\d{3}$/.test(cvv);
        // }
    </script>
</body>
</html>
